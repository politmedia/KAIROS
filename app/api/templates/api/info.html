{% extends 'index.html' %}
{% load i18n %}

{% block 'content' %}
    <h1>{% trans "API Documentation" %}</h1>
    <p>
        {% trans "The data of this site is also available in a machine-readable format (JSON). Our API serves the same data as the application; especially, no answers that are visible in the API if they have not been published in the application." %}
    </p>
    <p>
        {% trans "Feel free to fetch this dataset and analyze it as you wish. If you've done something interesting, consider dropping us a note :)" %}
    </p>
    <h2>URL</h2>
    <ul>
        <li><a href="{% url 'v1' %}">{{ request.get_host }}{% url 'v1' %}</a></li>
    </ul>
    <h2>{% trans "Data Structure" %}</h2>
    <ul>
        <li>
            Politicians
            <ul>
                <li><strong>id</strong>: {% trans "The id of the politician" %}</li>
                <li><strong>first_name</strong>: {% trans "The first name of the politician" %}</li>
                <li><strong>last_name</strong>: {% trans "The last name of the politician" %}</li>
                <li><strong>image</strong>: {% trans "URL to the image (can be null)" %}</li>
                <li><strong>state</strong>: {% trans "Name of the state (can be null)" %}</li>
                <li>
                    <strong>party</strong> {% trans "(can be null)" %}
                    <ul>
                        <li><strong>name</strong>: {% trans "The long name of the party" %}</li>
                        <li><strong>shortname</strong>: {% trans "The short name of the party (can be null)" %}</li>
                    </ul>
                <li><strong>past_contributions</strong>: {% trans "Past contributions of the politician" %}</li>
                <li><strong>future_plans</strong>: {% trans "Future plans of the politician" %}</li>
                <li>
                    <strong>answers</strong>
                    <ul>
                        <li><strong>question_id</strong>: {% trans "The id of the referring question" %}</li>
                        <li><strong>answer</strong>: {% trans "Agreement level to the question (is between 0 - 10)" %}</li>
                        <li><strong>note</strong>: {% trans "Additional note to the answer" %}</li>
                    </ul>
                </li>
            </ul>
        </li>
        <li>
            Categories
            <ul>
                <li><strong>id</strong>: {% trans "The id of the category" %}</li>
                <li><strong>name</strong>: {% trans "The name of the category (by language code)" %}</li>
            </ul>
        </li>
        <li>
            Questions
            <ul>
                <li><strong>id</strong>: {% trans "The id of the question" %}</li>
                <li><strong>category_id</strong>: {% trans "The id of the referring category" %}</li>
                <li><strong>text</strong>: {% trans "The question text (by language code)" %}</li>
                <li><strong>description</strong>: {% trans "A better description of the question (by language code)" %}</li>
                <li><strong>preferred_answer</strong>: {% trans "The preferred answer given by the admins (is between 0 - 10)" %}</li>
            </ul>
        </li>
    </ul>
{% endblock %}
